import { Inject, Injectable } from '@angular/core';import { FirebaseApp } from 'angularfire2';@Injectable()export class UploadFile {  storageRef:any;  targetRef:any;  constructor(  @Inject(FirebaseApp) firebaseApp:any) {    this.storageRef = firebaseApp.storage().ref();  }  uploadFile(fbsPath:string,targetFile:string) {    let promise = new Promise((res,rej) => {      this.targetRef=this.storageRef.child(fbsPath);      let task=this.targetRef.put(targetFile);      task.on('state_changed',        (snapshot:any) => {          //console.log(snapshot.state);        },        (error:any) => {          console.log(error.code);          rej(error);        },        () => {          let downloadUrl = task.snapshot.downloadURL;          //console.log(downloadUrl);          res(downloadUrl);        }      );    })    return promise;  }}