import { Component } from '@angular/core';import { MdDialogRef } from '@angular/material';import { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';import { MembershipDialogComponent } from '../dialog/membership-dialog.component';import { UploadFile } from '../../shared/upload-file';import { MembershipService } from '../membership.service';@Component({  moduleId: module.id,  selector: 'membership-add',  templateUrl: './membership-add.component.html',  providers: [UploadFile, MembershipService]})export class MembershipAddComponent {  form: FormGroup;  name = new FormControl("", Validators.required);  description = new FormControl("", Validators.required);  showSpinner: boolean = false;  targetFile: any;  fbsPath: any;  constructor( fb: FormBuilder,               public dialogRef: MdDialogRef<MembershipDialogComponent>,               private uploadFile: UploadFile,               private membershipService: MembershipService) {    this.form = fb.group({      "name": this.name,      "description": this.description,      "imgUrl": null    });  }  public fileChangeEvent(fileInput: any){    this.targetFile = fileInput.srcElement.files[0];    this.fbsPath = this.targetFile.name;  }  add() {    this.showSpinner = true;    this.uploadFile.uploadFile(this.fbsPath, this.targetFile).then((imgUrl) => {      this.form.value.imgUrl = imgUrl;      this.membershipService.addItem(this.form.value).then((data) => {        this.showSpinner = false;        this.dialogRef.close();      })    });  }}